import requests
import html
import pandas as pd
from tqdm import tqdm


search_keywords = [
    html.escape("wireless earbuds"),
    html.escape("smartphone stand"),
    html.escape("cat hammock"),
    html.escape("unicorn onesie"),
    html.escape("solar-powered charger"),
    html.escape("inflatable paddleboard"),
    html.escape("galaxy projector"),
    html.escape("coffee bean grinder"),
    html.escape("rainbow umbrella"),
    html.escape("hydroponic indoor garden"),
    html.escape("robot vacuum cleaner"),
    html.escape("virtual reality headset"),
    html.escape("sushi making kit"),
    html.escape("gaming mouse pad"),
    html.escape("floating bookshelves"),
    html.escape("LED light strips"),
    html.escape("reusable silicone food bags"),
    html.escape("cactus desk organizer"),
    html.escape("portable blender"),
    html.escape("star projector"),
    html.escape("indoor exercise bike"),
    html.escape("moon lamp"),
    html.escape("bamboo toothbrush"),
    html.escape("minimalist wallet"),
    html.escape("fitness tracker"),
    html.escape("electric wine opener"),
    html.escape("self-watering plant pots"),
    html.escape("smart thermostat"),
    html.escape("adjustable laptop stand"),
    html.escape("bedside caddy"),
    html.escape("color-changing light bulb"),
    html.escape("back posture corrector"),
    html.escape("noise-canceling headphones"),
    html.escape("foldable keyboard"),
    html.escape("essential oil diffuser"),
    html.escape("heated blanket"),
    html.escape("e-reader"),
    html.escape("reusable coffee filter"),
    html.escape("standing desk converter"),
    html.escape("fitness resistance bands"),
    html.escape("shoe storage box"),
    html.escape("sleep mask"),
    html.escape("desk organizer set"),
    html.escape("laptop cooling pad"),
    html.escape("herb garden kit"),
    html.escape("UV phone sanitizer"),
    html.escape("foldable water bottle"),
    html.escape("puzzle mat"),
    html.escape("wireless charging pad"),
    html.escape("cork board wall tiles"),
    html.escape("plant-based cookbook"),
    html.escape("insulated lunch bag"),
    html.escape("bike phone mount"),
    html.escape("waterproof phone pouch"),
    html.escape("coloring book for adults"),
    html.escape("weighted blanket"),
    html.escape("collapsible travel mug"),
    html.escape("massage gun"),
    html.escape("mini projector"),
    html.escape("memory foam pillow"),
    html.escape("reusable grocery bags"),
    html.escape("portable power bank"),
    html.escape("solar-powered garden lights"),
    html.escape("yoga mat"),
    html.escape("minimalist desk lamp"),
    html.escape("electric scooter"),
    html.escape("candle making kit"),
    html.escape("smart doorbell"),
    html.escape("adjustable dumbbells"),
    html.escape("air purifier"),
    html.escape("sleep aid spray"),
    html.escape("wireless keyboard and mouse"),
    html.escape("fitness trampoline"),
    html.escape("water flosser"),
    html.escape("color-changing smart bulb"),
    html.escape("compact mirror"),
    html.escape("kombucha brewing kit"),
    html.escape("blue light blocking glasses"),
    html.escape("collapsible storage bins"),
    html.escape("desktop punching bag"),
    html.escape("mini humidifier"),
    html.escape("standing desk mat"),
    html.escape("reusable straws"),
    html.escape("sustainable lunchbox"),
    html.escape("telescopic back scratcher"),
    html.escape("wireless charging station"),
    html.escape("aromatherapy candles"),
    html.escape("USB desk fan"),
    html.escape("noise machine"),
    html.escape("massage roller"),
    html.escape("smart plug"),
    html.escape("cord organizer"),
    html.escape("personal blender"),
    html.escape("solar-powered outdoor lights"),
    html.escape("bamboo laptop tray"),
    html.escape("sleep tracking device"),
    html.escape("heated mouse pad"),
    html.escape("color-changing smart plugs"),
    html.escape("marble phone case"),
    html.escape("desk exercise equipment"),
    html.escape("stainless steel lunchbox"),
    html.escape("sustainable kitchen gadgets"),
    html.escape("folding travel chair"),
    html.escape("smart home security system"),
    html.escape("waterproof laptop backpack"),
    html.escape("selfie ring light"),
    html.escape("organic facial cleanser"),
    html.escape("compact travel pillow"),
    html.escape("Bluetooth shower speaker"),
    html.escape("minimalist jewelry organizer"),
    html.escape("portable photo printer"),
    html.escape("organic baby onesies"),
    html.escape("wireless charging mouse pad"),
    html.escape("adjustable standing desk"),
    html.escape("reusable food storage containers"),
    html.escape("memory foam seat cushion"),
    html.escape("smart water bottle with reminders"),
    html.escape("portable photo studio"),
    html.escape("ergonomic laptop stand"),
    html.escape("heated foot massager"),
    html.escape("compact home gym equipment"),
    html.escape("wooden desk organizer"),
    html.escape("indoor herb garden kit"),
    html.escape("sustainable clothing brands"),
    html.escape("smart mirror with lights"),
    html.escape("travel document organizer"),
    html.escape("noise-cancelling sleep headphones"),
    html.escape("plant-based protein powder"),
    html.escape("waterproof fitness watch"),
    html.escape("collapsible silicone strainer"),
    html.escape("fitness hula hoop"),
    html.escape("reusable beeswax wraps"),
    html.escape("foldable camping chair"),
    html.escape("knee compression sleeve"),
    html.escape("wireless charging pad for multiple devices"),
    html.escape("portable blender for travel"),
    html.escape("noise-cancelling ear protection"),
    html.escape("collapsible silicone lunchbox"),
    html.escape("ergonomic mouse pad with wrist support"),
    html.escape("compact portable grill"),
    html.escape("reusable cloth diapers"),
    html.escape("color-changing LED strip lights"),
    html.escape("smart lock for home security"),
    html.escape("sustainable bamboo cutlery"),
    html.escape("adjustable laptop cooling pad"),
    html.escape("collapsible silicone water bottle"),
    html.escape("smart home lighting system"),
    html.escape("minimalist backpack for travel"),
    html.escape("wireless charging car mount"),
    html.escape("reusable makeup remover pads"),
    html.escape("fitness tracker with heart rate monitor"),
    html.escape("noise-cancelling white noise machine"),
    html.escape("portable power station for camping"),
    html.escape("memory foam lumbar support pillow"),
    html.escape("smart home thermostat"),
    html.escape("collapsible camping cookware"),
    html.escape("reusable glass straws"),
    html.escape("color-changing smart light bulbs"),
    html.escape("sustainable kitchen towels"),
    html.escape("ergonomic kneeling chair"),
    html.escape("fitness resistance band set"),
    html.escape("waterproof fitness tracker with GPS"),
    html.escape("collapsible silicone food containers"),
    html.escape("portable UV-C sterilizer"),
    html.escape("memory foam mattress topper"),
    html.escape("smart home security camera system"),
    html.escape("reusable snack bags"),
    html.escape("noise-cancelling wireless ear muffs"),
    html.escape("adjustable laptop desk"),
    html.escape("collapsible silicone coffee cup"),
    html.escape("smart home door lock"),
    html.escape("sustainable bamboo kitchen utensils"),
    html.escape("ergonomic standing desk chair"),
    html.escape("fitness tracker for swimming"),
    html.escape("waterproof fitness headphones"),
    html.escape("collapsible silicone pet bowl"),
    html.escape("portable water flosser for travel"),
    html.escape("memory foam neck pillow"),
    html.escape("smart home security doorbell"),
    html.escape("reusable produce bags"),
    html.escape("noise-cancelling Bluetooth sleep mask"),
    html.escape("adjustable laptop stand for bed"),
    html.escape("collapsible silicone straws"),
    html.escape("sustainable bamboo plates"),
    html.escape("ergonomic desk chair"),
    html.escape("fitness tracker with sleep monitor"),
    html.escape("waterproof fitness tracker for women"),
    html.escape("collapsible silicone wine glasses"),
    html.escape("portable workout equipment for home"),
    html.escape("memory foam seat cushion for office chair"),
    html.escape("smart home garage door opener"),
    html.escape("reusable sandwich bags"),
    html.escape("noise-cancelling ear plugs for sleeping"),
    html.escape("adjustable laptop cooling stand"),
    html.escape("collapsible silicone lunch containers"),
    html.escape("sustainable bamboo straws"),
    html.escape("ergonomic gaming chair"),
    html.escape("fitness tracker with GPS"),
    html.escape("waterproof fitness tracker with heart rate monitor"),
    html.escape("collapsible silicone travel bowl"),
    html.escape("portable Bluetooth speaker for outdoor"),
    html.escape("memory foam mattress in a box"),
    html.escape("smart home light switch"),
    html.escape("reusable shopping bags"),
    html.escape("noise-cancelling headphones for studying"),
    html.escape("adjustable laptop stand for desk"),
    html.escape("collapsible silicone cup"),
    html.escape("sustainable bamboo bed sheets"),
    html.escape("ergonomic office chair with lumbar support"),
    html.escape("fitness tracker with blood pressure monitor"),
    html.escape("waterproof fitness tracker for men"),
    html.escape("collapsible silicone storage containers"),
    html.escape("portable wireless charger for iPhone"),
    html.escape("memory foam knee pillow"),
    html.escape("smart home outdoor security camera"),
    html.escape("reusable storage bags"),
    html.escape("noise-cancelling ear protection for shooting"),
    html.escape("adjustable laptop desk stand"),
    html.escape("collapsible silicone food storage containers"),
    html.escape("sustainable bamboo cutting board"),
    html.escape("ergonomic kneeling desk chair"),
    html.escape("fitness resistance band set with handles"),
    html.escape("waterproof fitness tracker for swimming and running"),
    html.escape("collapsible silicone baby bottle"),
    html.escape("portable water flosser for braces"),
    html.escape("memory foam seat cushion for car"),
    html.escape("smart home security camera outdoor"),
    html.escape("reusable snack bags for kids"),
    html.escape("noise-cancelling Bluetooth ear muffs"),
    html.escape("adjustable laptop stand for sofa"),
    html.escape("collapsible silicone wine glasses with lids"),
    html.escape("sustainable bamboo toilet paper"),
    html.escape("ergonomic desk chair with lumbar support"),
    html.escape("fitness tracker with heart rate monitor and blood pressure"),
    html.escape("waterproof fitness tracker with sleep monitor"),
    html.escape("collapsible silicone travel bowl for dogs"),
    html.escape("portable Bluetooth speaker with FM radio")]

# Replace 'https://api.example.com/endpoint' with the actual API endpoint

productList = []

for query in tqdm(search_keywords, desc="Fetching Products", unit="keyword"):
    api_url = f'http://localhost:3000/search/${query}'
    # print(query)
    try:
        # Make a GET request to the API
        response = requests.get(api_url)
        # Check if the request was successful (status code 200)
        if response.status_code == 200:
            # Print the API response content
            response = response.json()
            for product in response:
                productList.append({'title': product['title']})
        else:
            print(f"Error: {response.status_code} - {response.text}")

    except requests.exceptions.RequestException as e:
        print(f"Error: {e}")


df = pd.DataFrame(productList)
csv_file_path = 'productList.csv'
df.to_csv(csv_file_path)
print(f'Data has been stored to {csv_file_path}')
